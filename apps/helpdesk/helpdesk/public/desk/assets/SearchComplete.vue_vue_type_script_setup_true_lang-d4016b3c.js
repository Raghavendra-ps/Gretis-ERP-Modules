import{q as d,ai as p,A as c,x as f,o as v,c as m,y as o,bb as g}from"./index-683cf2d0.js";const F=d({__name:"SearchComplete",props:{value:{type:String,required:!1,default:""},doctype:{type:String,required:!0},searchField:{type:String,required:!1,default:"name"},labelField:{type:String,required:!1,default:"name"},valueField:{type:String,required:!1,default:"name"},pageLength:{type:Number,required:!1,default:10}},setup(i){const e=i,t=p({doctype:e.doctype,pageLength:e.pageLength,auto:!0,fields:[e.labelField,e.searchField,e.valueField],filters:{[e.searchField]:["like",`%${e.value}%`]},onSuccess:()=>{r.value=e.value?n.value.find(a=>a.value===e.value):null}}),n=c(()=>t.data?.map(a=>({label:a[e.labelField],value:a[e.valueField]}))||[]),r=f(null);function s(a){t.update({filters:{[e.searchField]:["like",`%${a}%`]}}),t.reload()}return(a,l)=>(v(),m(o(g),{placeholder:"Select an option",options:o(n),value:r.value,"onUpdate:query":l[0]||(l[0]=u=>s(u)),onChange:l[1]||(l[1]=u=>r.value=u)},null,8,["options","value"]))}});export{F as _};
//# sourceMappingURL=SearchComplete.vue_vue_type_script_setup_true_lang-d4016b3c.js.map
