import{x,aJ as h,q as T,aR as W,A as M,aS as G,aT as X,aG as Y,aM as Z,aL as ee,aN as R,aU as C,aV as E,aX as te,bx as ne,a$ as ae,b0 as O,s as oe,aW as le,a9 as re,ac as _,by as ue,ad as se,bz as ie,bA as y,b4 as g,bB as ce,b2 as $,bC as H,b7 as de,_ as pe,i as me,as as ve,P as fe,o as I,c as S,w as k,j as A,r as be,n as ge,a2 as N,l as he,t as B,f as L,b as P,d as j,p as V,F as K,H as z,a as ye,h as w}from"./index-683cf2d0.js";let U=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function q(t){var o,l;let p=(o=t.innerText)!=null?o:"",e=t.cloneNode(!0);if(!(e instanceof HTMLElement))return p;let r=!1;for(let f of e.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))f.remove(),r=!0;let u=r?(l=e.innerText)!=null?l:"":p;return U.test(u)&&(u=u.replace(U,"")),u}function Ie(t){let o=t.getAttribute("aria-label");if(typeof o=="string")return o.trim();let l=t.getAttribute("aria-labelledby");if(l){let p=l.split(" ").map(e=>{let r=document.getElementById(e);if(r){let u=r.getAttribute("aria-label");return typeof u=="string"?u.trim():q(r).trim()}return null}).filter(Boolean);if(p.length>0)return p.join(", ")}return q(t).trim()}function xe(t){let o=x(""),l=x("");return()=>{let p=h(t);if(!p)return"";let e=p.innerText;if(o.value===e)return l.value;let r=Ie(p).trim().toLowerCase();return o.value=e,l.value=r,r}}var Me=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Me||{}),ke=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(ke||{});function we(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let J=Symbol("MenuContext");function F(t){let o=se(J,null);if(o===null){let l=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,F),l}return o}let Se=T({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:o,attrs:l}){let p=x(1),e=x(null),r=x(null),u=x([]),f=x(""),m=x(null),d=x(1);function n(i=c=>c){let c=m.value!==null?u.value[m.value]:null,s=de(i(u.value.slice()),b=>h(b.dataRef.domRef)),a=c?s.indexOf(c):null;return a===-1&&(a=null),{items:s,activeItemIndex:a}}let v={menuState:p,buttonRef:e,itemsRef:r,items:u,searchQuery:f,activeItemIndex:m,activationTrigger:d,closeMenu:()=>{p.value=1,m.value=null},openMenu:()=>p.value=0,goToItem(i,c,s){let a=n(),b=ie(i===y.Specific?{focus:y.Specific,id:c}:{focus:i},{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:D=>D.id,resolveDisabled:D=>D.dataRef.disabled});f.value="",m.value=b,d.value=s??1,u.value=a.items},search(i){let c=f.value!==""?0:1;f.value+=i.toLowerCase();let s=(m.value!==null?u.value.slice(m.value+c).concat(u.value.slice(0,m.value+c)):u.value).find(b=>b.dataRef.textValue.startsWith(f.value)&&!b.dataRef.disabled),a=s?u.value.indexOf(s):-1;a===-1||a===m.value||(m.value=a,d.value=1)},clearSearch(){f.value=""},registerItem(i,c){let s=n(a=>[...a,{id:i,dataRef:c}]);u.value=s.items,m.value=s.activeItemIndex,d.value=1},unregisterItem(i){let c=n(s=>{let a=s.findIndex(b=>b.id===i);return a!==-1&&s.splice(a,1),s});u.value=c.items,m.value=c.activeItemIndex,d.value=1}};return W([e,r],(i,c)=>{var s;v.closeMenu(),G(c,X.Loose)||(i.preventDefault(),(s=h(e))==null||s.focus())},M(()=>p.value===0)),Y(J,v),Z(M(()=>ee(p.value,{[0]:R.Open,[1]:R.Closed}))),()=>{let i={open:p.value===0,close:v.closeMenu};return C({ourProps:{},theirProps:t,slot:i,slots:o,attrs:l,name:"Menu"})}}}),_e=T({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${E()}`}},setup(t,{attrs:o,slots:l,expose:p}){let e=F("MenuButton");p({el:e.buttonRef,$el:e.buttonRef});function r(d){switch(d.key){case g.Space:case g.Enter:case g.ArrowDown:d.preventDefault(),d.stopPropagation(),e.openMenu(),_(()=>{var n;(n=h(e.itemsRef))==null||n.focus({preventScroll:!0}),e.goToItem(y.First)});break;case g.ArrowUp:d.preventDefault(),d.stopPropagation(),e.openMenu(),_(()=>{var n;(n=h(e.itemsRef))==null||n.focus({preventScroll:!0}),e.goToItem(y.Last)});break}}function u(d){switch(d.key){case g.Space:d.preventDefault();break}}function f(d){t.disabled||(e.menuState.value===0?(e.closeMenu(),_(()=>{var n;return(n=h(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})})):(d.preventDefault(),e.openMenu(),we(()=>{var n;return(n=h(e.itemsRef))==null?void 0:n.focus({preventScroll:!0})})))}let m=te(M(()=>({as:t.as,type:o.type})),e.buttonRef);return()=>{var d;let n={open:e.menuState.value===0},{id:v,...i}=t,c={ref:e.buttonRef,id:v,type:m.value,"aria-haspopup":"menu","aria-controls":(d=h(e.itemsRef))==null?void 0:d.id,"aria-expanded":e.menuState.value===0,onKeydown:r,onKeyup:u,onClick:f};return C({ourProps:c,theirProps:i,slot:n,attrs:o,slots:l,name:"MenuButton"})}}}),De=T({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${E()}`}},setup(t,{attrs:o,slots:l,expose:p}){let e=F("MenuItems"),r=x(null);p({el:e.itemsRef,$el:e.itemsRef}),ne({container:M(()=>h(e.itemsRef)),enabled:M(()=>e.menuState.value===0),accept(n){return n.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:n.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(n){n.setAttribute("role","none")}});function u(n){var v;switch(r.value&&clearTimeout(r.value),n.key){case g.Space:if(e.searchQuery.value!=="")return n.preventDefault(),n.stopPropagation(),e.search(n.key);case g.Enter:if(n.preventDefault(),n.stopPropagation(),e.activeItemIndex.value!==null){let i=e.items.value[e.activeItemIndex.value];(v=h(i.dataRef.domRef))==null||v.click()}e.closeMenu(),H(h(e.buttonRef));break;case g.ArrowDown:return n.preventDefault(),n.stopPropagation(),e.goToItem(y.Next);case g.ArrowUp:return n.preventDefault(),n.stopPropagation(),e.goToItem(y.Previous);case g.Home:case g.PageUp:return n.preventDefault(),n.stopPropagation(),e.goToItem(y.First);case g.End:case g.PageDown:return n.preventDefault(),n.stopPropagation(),e.goToItem(y.Last);case g.Escape:n.preventDefault(),n.stopPropagation(),e.closeMenu(),_(()=>{var i;return(i=h(e.buttonRef))==null?void 0:i.focus({preventScroll:!0})});break;case g.Tab:n.preventDefault(),n.stopPropagation(),e.closeMenu(),_(()=>ce(h(e.buttonRef),n.shiftKey?$.Previous:$.Next));break;default:n.key.length===1&&(e.search(n.key),r.value=setTimeout(()=>e.clearSearch(),350));break}}function f(n){switch(n.key){case g.Space:n.preventDefault();break}}let m=ae(),d=M(()=>m!==null?(m.value&R.Open)===R.Open:e.menuState.value===0);return()=>{var n,v;let i={open:e.menuState.value===0},{id:c,...s}=t,a={"aria-activedescendant":e.activeItemIndex.value===null||(n=e.items.value[e.activeItemIndex.value])==null?void 0:n.id,"aria-labelledby":(v=h(e.buttonRef))==null?void 0:v.id,id:c,onKeydown:u,onKeyup:f,role:"menu",tabIndex:0,ref:e.itemsRef};return C({ourProps:a,theirProps:s,slot:i,attrs:o,slots:l,features:O.RenderStrategy|O.Static,visible:d.value,name:"MenuItems"})}}}),Pe=T({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${E()}`}},setup(t,{slots:o,attrs:l,expose:p}){let e=F("MenuItem"),r=x(null);p({el:r,$el:r});let u=M(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===t.id:!1),f=xe(r),m=M(()=>({disabled:t.disabled,get textValue(){return f()},domRef:r}));oe(()=>e.registerItem(t.id,m)),le(()=>e.unregisterItem(t.id)),re(()=>{e.menuState.value===0&&u.value&&e.activationTrigger.value!==0&&_(()=>{var a,b;return(b=(a=h(r))==null?void 0:a.scrollIntoView)==null?void 0:b.call(a,{block:"nearest"})})});function d(a){if(t.disabled)return a.preventDefault();e.closeMenu(),H(h(e.buttonRef))}function n(){if(t.disabled)return e.goToItem(y.Nothing);e.goToItem(y.Specific,t.id)}let v=ue();function i(a){v.update(a)}function c(a){v.wasMoved(a)&&(t.disabled||u.value||e.goToItem(y.Specific,t.id,0))}function s(a){v.wasMoved(a)&&(t.disabled||u.value&&e.goToItem(y.Nothing))}return()=>{let{disabled:a}=t,b={active:u.value,disabled:a,close:e.closeMenu},{id:D,...Q}=t;return C({ourProps:{id:D,ref:r,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,disabled:void 0,onClick:d,onFocus:n,onPointerenter:i,onMouseenter:i,onPointermove:c,onMousemove:c,onPointerleave:s,onMouseleave:s},theirProps:{...l,...Q},slot:b,attrs:l,slots:o,name:"MenuItem"})}}});const Re={name:"Dropdown",props:{button:{type:Object,default:null},options:{type:Array,default:()=>[]},placement:{type:String,default:"left"}},components:{Menu:Se,MenuButton:_e,MenuItems:De,MenuItem:Pe,Button:me,FeatherIcon:ve,Popover:fe},methods:{normalizeDropdownItem(t){let o=t.onClick||null;return!o&&t.route&&this.$router&&(o=()=>this.$router.push(t.route)),{label:t.label,icon:t.icon,group:t.group,component:t.component,onClick:o}},filterOptions(t){return(t||[]).filter(Boolean).filter(o=>o.condition?o.condition():!0).map(o=>this.normalizeDropdownItem(o))}},computed:{groups(){return(this.options[0]?.group?this.options:[{group:"",items:this.options}]).map((o,l)=>({key:l,group:o.group,hideLabel:o.hideLabel||!1,items:this.filterOptions(o.items)}))},dropdownTransition(){return{enterActiveClass:"transition duration-100 ease-out",enterFromClass:"transform scale-95 opacity-0",enterToClass:"transform scale-100 opacity-100",leaveActiveClass:"transition duration-75 ease-in",leaveFromClass:"transform scale-100 opacity-100",leaveToClass:"transform scale-95 opacity-0"}},popoverPlacement(){return this.placement==="left"?"bottom-start":this.placement==="right"?"bottom-end":this.placement==="center"?"bottom-center":"bottom"}}},Te={key:0,class:"flex h-7 items-center px-2 text-sm font-medium text-gray-500"},Ce=["onClick"],Fe={class:"whitespace-nowrap"};function Ae(t,o,l,p,e,r){const u=w("Button"),f=w("MenuButton"),m=w("FeatherIcon"),d=w("MenuItem"),n=w("MenuItems"),v=w("Popover"),i=w("Menu");return I(),S(i,{as:"div",class:"relative inline-block text-left"},{default:k(({open:c})=>[A(v,{transition:r.dropdownTransition,show:c,placement:r.popoverPlacement},{target:k(()=>[A(f,{as:"div"},{default:k(()=>[t.$slots.default?be(t.$slots,"default",ge(N({key:0},{open:c}))):(I(),S(u,N({key:1,active:c},l.button),{default:k(()=>[he(B(l.button?l.button?.label||null:"Options"),1)]),_:2},1040,["active"]))]),_:2},1024)]),body:k(()=>[A(n,{class:L(["mt-2 min-w-40 divide-y divide-gray-100 rounded-lg bg-white shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",{"left-0 origin-top-left":l.placement=="left","right-0 origin-top-right":l.placement=="right","inset-x-0 origin-top":l.placement=="center"}])},{default:k(()=>[(I(!0),P(K,null,j(r.groups,s=>(I(),P("div",{key:s.key,class:"p-1.5"},[s.group&&!s.hideLabel?(I(),P("div",Te,B(s.group),1)):V("",!0),(I(!0),P(K,null,j(s.items,a=>(I(),S(d,{key:a.label},{default:k(({active:b})=>[a.component?(I(),S(z(a.component),{key:0,active:b},null,8,["active"])):(I(),P("button",{key:1,class:L([b?"bg-gray-100":"text-gray-800","group flex h-7 w-full items-center rounded px-2 text-base"]),onClick:a.onClick},[a.icon&&typeof a.icon=="string"?(I(),S(m,{key:0,name:a.icon,class:"mr-2 h-4 w-4 flex-shrink-0 text-gray-700","aria-hidden":"true"},null,8,["name"])):a.icon?(I(),S(z(a.icon),{key:1,class:"mr-2 h-4 w-4 flex-shrink-0 text-gray-700"})):V("",!0),ye("span",Fe,B(a.label),1)],10,Ce))]),_:2},1024))),128))]))),128))]),_:1},8,["class"])]),_:2},1032,["transition","show","placement"])]),_:3})}const Ee=pe(Re,[["render",Ae]]);export{Ee as D};
//# sourceMappingURL=Dropdown-cb3c7d7d.js.map
