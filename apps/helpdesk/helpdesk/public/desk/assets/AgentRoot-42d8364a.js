import{o,b as i,a as t,q as f,t as k,x as j,N as H,y as e,j as c,w as g,F as C,d as T,c as d,n as N,g as B,H as O,p as v,e as I,h as $,J as A,f as R,O as U,Q as K,z as V,R as F,A as X,S as q,U as Y,V as J,W as Q,X as W,Y as Z,Z as ee,$ as te,a0 as oe,a1 as P,a2 as M,a3 as ne,M as z,K as se,L as ie,a4 as re}from"./index-683cf2d0.js";import{u as D,a as S,d as ce,L as ae,b as le,c as de,e as _e,C as ue}from"./notification-bcfdfaa4.js";import{I as he}from"./x-227748d1.js";import"./iconify-ab660f87.js";import{_ as pe}from"./UserAvatar.vue_vue_type_script_setup_true_lang-f84b967c.js";import{_ as w}from"./SidebarLink.vue_vue_type_script_setup_true_lang-37f22bcc.js";import{_ as me,L as ge}from"./contact-2-860ffeef.js";import{_ as we}from"./Avatar.vue_vue_type_script_setup_true_lang-3a9f1ac4.js";import{D as fe}from"./Dropdown-cb3c7d7d.js";import"./error-95942cf5.js";const xe={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},ke=t("path",{d:"M18 6 7 17l-5-5"},null,-1),ve=t("path",{d:"m22 10-7.5 7.5L13 16"},null,-1),$e=[ke,ve];function be(r,n){return o(),i("svg",xe,$e)}const ye={name:"lucide-check-check",render:be},Le={class:"space-x-1 text-gray-700"},Ce={class:"font-medium text-gray-900"},Te=t("span",null,"mentioned you in ticket",-1),Ae={class:"font-medium text-gray-900"},Se=f({__name:"NotificationsMention",props:{user_from:null,reference_ticket:null},setup(r){return(n,a)=>(o(),i("span",Le,[t("span",Ce,k(r.user_from.name),1),Te,t("span",Ae,k(r.reference_ticket),1)]))}}),Ee={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-5 py-2.5"},Ne=t("span",{class:"text-lg font-medium"},"Notifications",-1),Be={class:"divide-y text-base"},Re={class:"mb-2 leading-5"},Me={class:"flex items-center gap-2"},Oe={class:"text-sm text-gray-600"},Ie={key:0,class:"h-1.5 w-1.5 rounded-full bg-gray-900"},Pe=f({__name:"Notifications",setup(r){const n=D(),a=S(),p=j(null);H(p,()=>{n.visible&&n.toggle()});function m(s){switch(s.notification_type){case"Mention":return Se}}function _(s){switch(s.notification_type){case"Mention":return{name:"TicketAgent",params:{ticketId:s.reference_ticket},hash:"#"+s.reference_comment}}}return(s,l)=>{const b=ye,x=$("Button"),y=he,L=$("RouterLink");return e(n).visible?(o(),i("span",{key:0,ref_key:"target",ref:p,class:"fixed z-10 h-screen overflow-auto bg-white",style:I({"box-shadow":"8px 0px 8px rgba(0, 0, 0, 0.1)","max-width":"350px","min-width":"350px",left:e(a).width})},[t("div",Ee,[Ne,t("span",null,[c(x,{theme:"blue",variant:"ghost",onClick:l[0]||(l[0]=()=>e(n).clear.submit())},{icon:g(()=>[c(b,{class:"h-4 w-4"})]),_:1}),c(x,{theme:"gray",variant:"ghost",onClick:l[1]||(l[1]=()=>e(n).toggle())},{icon:g(()=>[c(y,{class:"h-4 w-4"})]),_:1})])]),t("div",Be,[(o(!0),i(C,null,T(e(n).data,u=>(o(),d(L,{key:u.name,class:"flex cursor-pointer items-start gap-3.5 px-5 py-2.5 hover:bg-gray-100",to:_(u),onClick:l[2]||(l[2]=()=>e(n).toggle())},{default:g(()=>[c(e(pe),N(B(u.user_from)),null,16),t("span",null,[t("div",Re,[(o(),d(O(m(u)),N(B(u)),null,16))]),t("div",Me,[t("div",Oe,k(e(ce)(u.creation).fromNow()),1),u.read?v("",!0):(o(),i("div",Ie))])])]),_:2},1032,["to"]))),128))])],4)):v("",!0)}}}),ze={class:"text-base font-medium"},De=f({__name:"UserMenu",props:{options:{type:Array,required:!0}},setup(r){const n=A(),a=S();return(p,m)=>{const _=U,s=me;return o(),d(e(fe),{options:r.options},{default:g(({open:l})=>[t("div",{class:R(["-all flex w-max cursor-pointer items-center gap-2 rounded px-0.5 py-2",{"hover:bg-gray-100":e(a).isExpanded}])},[c(e(we),{size:"md",label:e(n).userName,image:e(n).userImage},null,8,["label","image"]),t("div",{class:R(["flex shrink-0 items-center gap-2 text-gray-800 duration-300",{"opacity-100":e(a).isExpanded,"opacity-0":!e(a).isExpanded,"-z-50":!e(a).isExpanded}])},[t("div",ze,k(e(n).userName),1),l?(o(),d(_,{key:0,class:"w-4 text-gray-700"})):(o(),d(s,{key:1,class:"w-4 text-gray-700"}))],2)],2)]),_:1},8,["options"])}}}),Ge={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},je=t("path",{d:"m9 6-6 6 6 6"},null,-1),He=t("path",{d:"M3 12h14"},null,-1),Ue=t("path",{d:"M21 19V5"},null,-1),Ke=[je,He,Ue];function Ve(r,n){return o(),i("svg",Ge,Ke)}const Fe={name:"lucide-arrow-left-from-line",render:Ve},Xe={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},qe=t("path",{d:"M3 5v14"},null,-1),Ye=t("path",{d:"M21 12H7"},null,-1),Je=t("path",{d:"m15 18 6-6-6-6"},null,-1),Qe=[qe,Ye,Je];function We(r,n){return o(),i("svg",Xe,Qe)}const Ze={name:"lucide-arrow-right-from-line",render:We},et={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},tt=t("path",{d:"m18 9-6-6-6 6"},null,-1),ot=t("path",{d:"M12 3v14"},null,-1),nt=t("path",{d:"M5 21h14"},null,-1),st=[tt,ot,nt];function it(r,n){return o(),i("svg",et,st)}const rt={name:"lucide-arrow-up-from-line",render:it},ct={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},at=t("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},null,-1),lt=t("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},null,-1),dt=[at,lt];function _t(r,n){return o(),i("svg",ct,dt)}const ut={name:"lucide-book-open",render:_t},ht={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},pt=t("path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973"},null,-1),mt=t("path",{d:"m13 12-3 5h4l-3 5"},null,-1),gt=[pt,mt];function wt(r,n){return o(),i("svg",ht,gt)}const ft={name:"lucide-cloud-lightning",render:wt},xt={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},kt=t("path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2"},null,-1),vt=[kt];function $t(r,n){return o(),i("svg",xt,vt)}const bt={name:"lucide-folder-open",render:$t},yt={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Lt=t("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"},null,-1),Ct=t("path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},null,-1),Tt=[Lt,Ct];function At(r,n){return o(),i("svg",yt,Tt)}const St={name:"lucide-inbox",render:At},Et={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Nt=t("path",{d:"M18 20a6 6 0 0 0-12 0"},null,-1),Bt=t("circle",{cx:"12",cy:"10",r:"4"},null,-1),Rt=t("circle",{cx:"12",cy:"12",r:"10"},null,-1),Mt=[Nt,Bt,Rt];function Ot(r,n){return o(),i("svg",Et,Mt)}const It={name:"lucide-user-circle-2",render:Ot},Pt={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},zt=t("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"},null,-1),Dt=t("circle",{cx:"9",cy:"7",r:"4"},null,-1),Gt=t("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"},null,-1),jt=t("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"},null,-1),Ht=[zt,Dt,Gt,jt];function Ut(r,n){return o(),i("svg",Pt,Ht)}const Kt={name:"lucide-users",render:Ut},Vt={class:"flex items-center gap-0.5 font-medium text-gray-600"},Ft=t("span",null,"K",-1),Xt={class:"mb-4"},qt={key:0,class:"absolute z-20 h-1.5 w-1.5 translate-x-6 translate-y-1 rounded-full bg-gray-800",theme:"gray",variant:"solid"},Yt={class:"mb-4 flex flex-col gap-1"},Jt={class:"flex flex-col gap-1"},Qt=t("div",{class:"grow"},null,-1),Wt=f({__name:"SideBar",setup(r){const n=ne(),a=z(),p=A(),m=K(),_=D(),{isExpanded:s,width:l}=V(S()),b=F(),x=X(()=>[{label:"Tickets",icon:ae,to:q},{label:"Dashboard",icon:le,to:Y},{label:"Agents",icon:de,to:J},{label:"Knowledge base",icon:ut,to:"DeskKBHome",isBeta:!0}]),y=[{label:"Teams",icon:Kt,to:Q},{label:"Escalation rules",icon:rt,to:W,isBeta:!0},{label:"Ticket types",icon:bt,to:Z,hide:!0},{label:"Canned responses",icon:ft,to:ee,isBeta:!0},{label:"Customers",icon:It,to:te},{label:"Contacts",icon:ge,to:oe}],L=[{label:"Shortcuts",icon:"command",onClick:()=>m.toggleVisibility(!0)},{label:"Customer portal",icon:"users",onClick:()=>{const E=a.resolve({name:P});window.open(E.href,"_blank")}},{label:"Log out",icon:"log-out",onClick:()=>p.logout()}];function u(){window.dispatchEvent(new KeyboardEvent("keydown",{key:"k",metaKey:!0}))}return(E,eo)=>{const G=$("Badge");return o(),i("div",{class:"z-0 flex select-none flex-col border-r border-gray-200 bg-gray-50 p-2 text-base duration-300 ease-in-out",style:I({"min-width":e(l),"max-width":e(l)})},[c(De,{class:"mb-2 ml-0.5",options:L}),c(e(w),{label:"Search",class:"mb-1",icon:e(_e),"on-click":()=>u(),"is-expanded":e(s)},{right:g(()=>[t("span",Vt,[(o(),d(O(e(b).modifierIcon),{class:"h-3 w-3"})),Ft])]),_:1},8,["icon","on-click","is-expanded"]),t("span",Xt,[e(_).unread?(o(),i("div",qt)):v("",!0),c(e(w),{class:"relative",label:"Notifications",icon:e(St),"on-click":()=>e(_).toggle(),"is-expanded":e(s)},{right:g(()=>[e(s)&&e(_).unread?(o(),d(G,{key:0,label:e(_).unread,theme:"gray",variant:"subtle"},null,8,["label"])):v("",!0)]),_:1},8,["icon","on-click","is-expanded"])]),t("div",Yt,[(o(!0),i(C,null,T(e(x),h=>(o(),d(e(w),M(h,{key:h.label,"is-expanded":e(s),"is-active":h.to?.includes(e(n).name.toString())}),null,16,["is-expanded","is-active"]))),128))]),t("div",Jt,[(o(!0),i(C,null,T(y.filter(h=>!h.hide),h=>(o(),d(e(w),M(h,{key:h.label,"is-expanded":e(s),"is-active":h.to?.includes(e(n).name?.toString())}),null,16,["is-expanded","is-active"]))),128))]),Qt,c(e(w),{icon:e(s)?e(Fe):e(Ze),"is-active":!1,"is-expanded":e(s),label:e(s)?"Collapse":"Expand","on-click":()=>s.value=!e(s)},null,8,["icon","is-expanded","label","on-click"])],4)}}}),Zt={class:"flex h-screen w-screen"},uo=f({__name:"AgentRoot",setup(r){const n=z(),a=A(),p=se();return ie(()=>{a.hasDeskAccess||n.replace({name:P}),p.isSetupComplete||n.replace({name:re})}),(m,_)=>{const s=$("RouterView");return o(),i("div",Zt,[c(Wt),c(e(Pe)),(o(),d(s,{key:m.$route.fullPath,class:"z-0 grow overflow-auto"})),c(e(ue))])}}});export{uo as default};
//# sourceMappingURL=AgentRoot-42d8364a.js.map
